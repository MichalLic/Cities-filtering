var Filter={ARRAY_DATA:"",SINGLE_DATA_OBJECTS:"",$FILTER_INPUT:$(".filter-input"),$TABLE_CONTENT:$(".table-content"),$TABLE:$(".table"),SHOW_VAL:"show",init:function(){Filter.getData()},getData:function(){$.ajax({url:"https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json",method:"GET",success:function(t){Filter.ARRAY_DATA=Filter.getJsonToArray(t),Filter.filterData(t)},error:function(){alert("Getting data error")}})},filterData:function(){Filter.$FILTER_INPUT.on("keyup",function(){var t=this.value;if(Filter.$TABLE_CONTENT.empty(),""!=t){var e=new RegExp(t,"gi");Filter.ARRAY_DATA.filter(function(t){Filter.checkContent(t.city,e,t.state)&&(Filter.show(Filter.$TABLE,Filter.SHOW_VAL),t.mycity=Filter.coloringSearching(t.city,e),t.mystate=Filter.coloringSearching(t.state,e),t.population=Filter.formatValueOfPopulation(t),Filter.mustacheRender(t))})}else Filter.hide(Filter.$TABLE,Filter.SHOW_VAL)})},checkContent:function(t,e,r){return t.match(e)||r.match(e)},coloringSearching:function(t,e){return t.replace(e,function(t){return'<span class="selected">'+t+"</span>"})},formatValueOfPopulation:function(t){return t.population.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")},getJsonToArray:function(t){return JSON.parse(t)},mustacheRender:function(t){var e=$("#template").html();Mustache.parse(e);var r=Mustache.render(e,t);Filter.$TABLE_CONTENT.append(r)},hide:function(t,e){t.removeClass(e)},show:function(t,e){t.addClass(e)}};$(document).ready(function(){Filter.init()});
//# sourceMappingURL=app.js.map
