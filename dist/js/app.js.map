{"version":3,"sources":["cities-filtering.js"],"names":["Filter","ARRAY_DATA","SINGLE_DATA_OBJECTS","init","getData","$","ajax","url","method","success","response","getJsonToArray","getSingleDataObject","filterData","error","console","log","on","inputVal","this","value","filter","CityOrState","checkContain","city","state","mustacheRender","indexOf","data","JSON","parse","template","html","Mustache","rendered","render","append","map","index","item","document","ready"],"mappings":"AAAA,GAAAA,SAEAC,WAAA,GACAC,oBAAA,GAGAC,KAAA,WACAH,OAAAI,WAKAA,QAAA,WACAC,EAAAC,MACAC,IAAA,4HACAC,OAAA,MACAC,QAAA,SAAAC,GACAV,OAAAC,WAAAD,OAAAW,eAAAD,GACAV,OAAAE,oBAAAF,OAAAY,sBACAZ,OAAAa,WAAAH,GACAV,OAAAY,oBAAAF,IAEAI,MAAA,WACAC,QAAAC,IAAA,0BAKAH,WAAA,WACAR,EAAA,iBAAAY,GAAA,QAAA,WACA,GAAAC,GAAAC,KAAAC,KACApB,QAAAC,WAAAoB,OAAA,SAAAC,GACAtB,OAAAuB,aAAAD,EAAAE,KAAAN,EAAAI,EAAAG,QACAzB,OAAA0B,eAAAJ,QAMAC,aAAA,SAAAC,EAAAN,EAAAO,GACA,MAAAD,GAAAG,QAAAT,IAAA,GAAAO,EAAAE,QAAAT,IAAA,GAGAP,eAAA,SAAAiB,GACA,MAAAC,MAAAC,MAAAF,IAGAF,eAAA,SAAAE,GACA,GAAAG,GAAA1B,EAAA,aAAA2B,MACAC,UAAAH,MAAAC,EACA,IAAAG,GAAAD,SAAAE,OAAAJ,EAAAH,EACAvB,GAAA,iBAAA+B,OAAAF,IAQAtB,oBAAA,SAAAgB,GACAvB,EAAAgC,IAAArC,OAAAC,WAAA,SAAAqC,EAAAC,GAEA,MAAAD,MAKAjC,GAAAmC,UAAAC,MAAA,WACAzC,OAAAG","file":"app.js","sourcesContent":["var Filter = {\r\n    //variables\r\n    ARRAY_DATA: '',\r\n    SINGLE_DATA_OBJECTS: '',\r\n\r\n    //init\r\n    init: function () {\r\n        Filter.getData();\r\n    },\r\n\r\n\r\n    //functions\r\n    getData: function () {\r\n        $.ajax({\r\n            url: 'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json',\r\n            method: 'GET',\r\n            success: function (response) {\r\n                Filter.ARRAY_DATA = Filter.getJsonToArray(response);\r\n                Filter.SINGLE_DATA_OBJECTS = Filter.getSingleDataObject();\r\n                Filter.filterData(response);\r\n                Filter.getSingleDataObject(response)\r\n           },\r\n            error: function () {\r\n                console.log('Getting data error');\r\n            }\r\n        })\r\n    },\r\n\r\n    filterData: function () {\r\n        $('.filter-input').on('keyup', function () {\r\n            var inputVal = this.value;\r\n            Filter.ARRAY_DATA.filter(function (CityOrState){\r\n                if(Filter.checkContain(CityOrState.city, inputVal, CityOrState.state)){\r\n                    Filter.mustacheRender(CityOrState);\r\n                } \r\n            });\r\n        })\r\n    },\r\n\r\n    checkContain: function (city, inputVal, state) {\r\n        return city.indexOf(inputVal) >= 0 || state.indexOf(inputVal) >=0;\r\n    },\r\n\r\n    getJsonToArray: function (data) {\r\n        return JSON.parse(data);\r\n    },\r\n\r\n    mustacheRender: function (data) {\r\n        var template = $('#template').html();\r\n        Mustache.parse(template);\r\n        var rendered = Mustache.render(template, data);\r\n        $('.filter-block').append(rendered);\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n    getSingleDataObject: function (data) {\r\n        $.map(Filter.ARRAY_DATA, function (index, item) {\r\n            /*Filter.mustacheRender(index);*/\r\n            return index;\r\n        });\r\n    }\r\n\r\n};\r\n$(document).ready(function () {\r\n    Filter.init();\r\n});"]}