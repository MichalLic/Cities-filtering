{"version":3,"sources":["cities-filtering.js"],"names":["Filter","ARRAY_DATA","SINGLE_DATA_OBJECTS","init","getData","$","ajax","url","method","success","response","getJsonToArray","filterData","error","console","log","on","inputVal","this","value","myRegex","RegExp","empty","filter","cityOrState","checkContent","city","state","show","coloringSearching","population","formatValueOfPopulation","mustacheRender","match","place","replace","data","toString","JSON","parse","template","html","Mustache","rendered","render","append","hide","element","addedClass","removeClass","addedClasses","addClass","document","ready"],"mappings":"AAAA,GAAAA,SAEAC,WAAA,GACAC,oBAAA,GAGAC,KAAA,WACAH,OAAAI,WAKAA,QAAA,WACAC,EAAAC,MACAC,IAAA,4HACAC,OAAA,MACAC,QAAA,SAAAC,GACAV,OAAAC,WAAAD,OAAAW,eAAAD,GACAV,OAAAY,WAAAF,IAEAG,MAAA,WACAC,QAAAC,IAAA,0BAKAH,WAAA,WACAP,EAAA,iBAAAW,GAAA,QAAA,WACA,GAAAC,GAAAC,KAAAC,MACAC,EAAA,GAAAC,QAAAJ,EAAA,KACAZ,GAAA,kBAAAiB,QACAtB,OAAAC,WAAAsB,OAAA,SAAAC,GACAxB,OAAAyB,aAAAD,EAAAE,KAAAN,EAAAI,EAAAG,SACA3B,OAAA4B,KAAAvB,EAAA,UAAA,QACAmB,EAAA,OAAAxB,OAAA6B,kBAAAL,EAAAE,KAAAT,GACAO,EAAA,QAAAxB,OAAA6B,kBAAAL,EAAAG,MAAAV,GACAO,EAAAM,WAAA9B,OAAA+B,wBAAAP,GACAxB,OAAAgC,eAAAR,SAKAC,aAAA,SAAAC,EAAAN,EAAAO,GACA,MAAAD,GAAAO,MAAAb,IAAAO,EAAAM,MAAAb,IAIAS,kBAAA,SAAAK,EAAAjB,GACA,MAAAiB,GAAAC,QAAAlB,EAAA,0BAAAA,EAAA,YAIAc,wBAAA,SAAAK,GACA,MAAAA,GAAAN,WAAAO,WAAAF,QAAA,2BAAA,QAGAxB,eAAA,SAAAyB,GACA,MAAAE,MAAAC,MAAAH,IAGAJ,eAAA,SAAAI,GACA,GAAAI,GAAAnC,EAAA,aAAAoC,MACAC,UAAAH,MAAAC,EACA,IAAAG,GAAAD,SAAAE,OAAAJ,EAAAJ,EACA/B,GAAA,kBAAAwC,OAAAF,IAGAG,KAAA,SAAAC,EAAAC,GACAD,EAAAE,YAAAD,IAGApB,KAAA,SAAAmB,EAAAG,GACAH,EAAAI,SAAAD,IAIA7C,GAAA+C,UAAAC,MAAA,WACArD,OAAAG","file":"app.js","sourcesContent":["var Filter = {\r\n    //variables\r\n    ARRAY_DATA: '',\r\n    SINGLE_DATA_OBJECTS: '',\r\n\r\n    //init\r\n    init: function () {\r\n        Filter.getData();\r\n    },\r\n\r\n\r\n    //functions\r\n    getData: function () {\r\n        $.ajax({\r\n            url: 'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json',\r\n            method: 'GET',\r\n            success: function (response) {\r\n                Filter.ARRAY_DATA = Filter.getJsonToArray(response);\r\n                Filter.filterData(response);\r\n            },\r\n            error: function () {\r\n                console.log('Getting data error');\r\n            }\r\n        })\r\n    },\r\n\r\n    filterData: function () {\r\n        $('.filter-input').on('keyup', function () {\r\n            var inputVal = this.value;\r\n            var myRegex = new RegExp(inputVal, 'gi');\r\n            $('.table-content').empty();\r\n            Filter.ARRAY_DATA.filter(function (cityOrState) {\r\n                if (Filter.checkContent(cityOrState.city, myRegex, cityOrState.state)) {\r\n                    Filter.show($('.table'), 'show');\r\n                    cityOrState['mycity'] = Filter.coloringSearching(cityOrState.city, inputVal);\r\n                    cityOrState['mystate'] = Filter.coloringSearching(cityOrState.state, inputVal);\r\n                    cityOrState.population = Filter.formatValueOfPopulation(cityOrState);\r\n                    Filter.mustacheRender(cityOrState);\r\n                }\r\n            });\r\n        })\r\n    },\r\n    checkContent: function (city, myRegex, state) {\r\n        return city.match(myRegex) || state.match(myRegex)\r\n\r\n    },\r\n\r\n    coloringSearching: function (place, inputVal) {\r\n        return place.replace(inputVal, '<span class=\"selected\">' + inputVal + '</span>');\r\n\r\n    },\r\n\r\n    formatValueOfPopulation: function (data) {\r\n        return (data.population.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\"));\r\n    },\r\n\r\n    getJsonToArray: function (data) {\r\n        return JSON.parse(data);\r\n    },\r\n\r\n    mustacheRender: function (data) {\r\n        var template = $('#template').html();\r\n        Mustache.parse(template);\r\n        var rendered = Mustache.render(template, data);\r\n        $('.table-content').append(rendered);\r\n    },\r\n\r\n    hide: function (element, addedClass) {\r\n        element.removeClass(addedClass)\r\n    },\r\n\r\n    show: function (element, addedClasses) {\r\n        element.addClass(addedClasses)\r\n    },\r\n\r\n};\r\n$(document).ready(function () {\r\n    Filter.init();\r\n});"]}